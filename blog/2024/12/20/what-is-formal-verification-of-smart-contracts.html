<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">ü¶Ñ How does formal verification of smart contracts work? | Formal Land</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://formal.land/img/land-512.png"><meta data-rh="true" name="twitter:image" content="https://formal.land/img/land-512.png"><meta data-rh="true" property="og:url" content="https://formal.land/blog/2024/12/20/what-is-formal-verification-of-smart-contracts"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="ü¶Ñ How does formal verification of smart contracts work? | Formal Land"><meta data-rh="true" name="description" content="We make here a general presentation about how the formal verification of smart contracts works by explaining:"><meta data-rh="true" property="og:description" content="We make here a general presentation about how the formal verification of smart contracts works by explaining:"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-12-20T00:00:00.000Z"><meta data-rh="true" property="article:tag" content="Solidity,smart contract,audit"><link data-rh="true" rel="icon" href="/img/land-512.png"><link data-rh="true" rel="canonical" href="https://formal.land/blog/2024/12/20/what-is-formal-verification-of-smart-contracts"><link data-rh="true" rel="alternate" href="https://formal.land/blog/2024/12/20/what-is-formal-verification-of-smart-contracts" hreflang="en"><link data-rh="true" rel="alternate" href="https://formal.land/blog/2024/12/20/what-is-formal-verification-of-smart-contracts" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Formal Land RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Formal Land Atom Feed">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="/js/hotjar-analytics.js"></script>
<script data-domain="formal.land" defer="defer" src="https://plausible.io/js/script.js"></script><link rel="stylesheet" href="/assets/css/styles.54407260.css">
<script src="/assets/js/runtime~main.46e9573f.js" defer="defer"></script>
<script src="/assets/js/main.75d5a72c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="content_knG7 announcementBarContent_xLdY">Building financial software? Get a formal verification quote <a href="https://calendly.com/guillaume-claret">here</a>.</div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/land-512.png" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/land-512.png" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Formal Land</b></a><a class="navbar__item navbar__link" href="/docs/audit">Audit Reports</a><a class="navbar__item navbar__link" href="/docs/tools">Tools</a><a class="navbar__item navbar__link" href="/docs/company/about">Company</a><a class="navbar__item navbar__link" href="/docs/learn/start">Learn</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/formal-land" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://gitlab.com/formal-land" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitLab<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2026/01/20/translation-and-verification">ü¶Ñ Formal verification is translation and verification</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2026/01/16/functional-correctness-static-call-revm">ü¶Ä Functional correctness of STATIC_CALL in Revm</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2026/01/14/formal-verification-keccak-plonky3">ü•∑ Formal verification of the Keccak precompile from Plonky3</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/09/02/verification-completeness-open-vm-chip">ü•∑ Verification of the completeness of an OpenVM chip</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/08/26/pretty-printing-rust-constraints">ü•∑ Pretty-printing of Rust ZK constraints</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="We make here a general presentation about how the formal verification of smart contracts works by explaining:"><header><h1 class="title_f1Hy" itemprop="headline">ü¶Ñ How does formal verification of smart contracts work?</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-12-20T00:00:00.000Z" itemprop="datePublished">December 20, 2024</time> ¬∑ <!-- -->9 min read</div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>We make here a general presentation about how the formal verification of smart contracts works by explaining:</p>
<ul>
<li>How people secure their smart contracts without formal verification.</li>
<li>How do formal tools typically work?</li>
<li>How our solution <a href="https://github.com/formal-land/rocq-of-solidity" target="_blank" rel="noopener noreferrer">coq-of-solidity</a> works on a short example (an <a href="https://ethereum.org/en/developers/docs/standards/tokens/erc-20/" target="_blank" rel="noopener noreferrer">ERC-20</a> contract).</li>
<li>Where LLMs could be the most useful, according to us, for formal verification work.</li>
</ul>
<div class="theme-admonition theme-admonition-success admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Ask for the highest security!</div><div class="admonitionContent_BuS1"><p>To ensure your code is fully secure today, contact us at¬†<a href="mailto:contact@formal.land" target="_blank" rel="noopener noreferrer">¬†üíåcontact@formal.land</a>!¬†üöÄ</p><p>Formal verification goes further than traditional audits to make 100% sure you cannot lose your funds, thanks to <strong>mathematical reasoning on the code</strong>. It can also be integrated into your CI pipeline to check that every commit is fully correct <strong>without doing a whole audit again</strong>.</p><p>We are already working with some of the leading blockchain entities such as:</p><ul>
<li>The <a href="https://ethereum.foundation/" target="_blank" rel="noopener noreferrer">Ethereum Foundation</a></li>
<li>The <a href="https://sui.io/about" target="_blank" rel="noopener noreferrer">Sui Foundation</a></li>
<li>Previously, the <a href="https://alephzero.org/" target="_blank" rel="noopener noreferrer">Aleph Zero</a> and <a href="https://tezos.com/" target="_blank" rel="noopener noreferrer">Tezos</a> foundations</li>
</ul></div></div>
<figure><p><img decoding="async" loading="lazy" alt="Forest" src="/assets/images/forest-0a74e8da62e88c6ace8cd983fb4c22f2.webp" width="1792" height="1024" class="img_ev3q"></p></figure>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-securing-smart-contracts-the-common-way">üõ°Ô∏è Securing smart contracts, the common way<a href="#Ô∏è-securing-smart-contracts-the-common-way" class="hash-link" aria-label="Direct link to üõ°Ô∏è Securing smart contracts, the common way" title="Direct link to üõ°Ô∏è Securing smart contracts, the common way">‚Äã</a></h2>
<p>Smart contracts are short programs, typically less than 5,000 lines of code, running &quot;on the blockchain&quot; to implement transaction rules. Examples can be virtual marketplaces to trade cryptocurrencies, virtual dollar coins, traceability databases, and NFTs, ... Most of the smart contracts are written in <a href="https://soliditylang.org/" target="_blank" rel="noopener noreferrer">Solidity</a>, a JavaScript-like language, and some are in <a href="https://www.rust-lang.org/" target="_blank" rel="noopener noreferrer">Rust</a>.</p>
<p>To know what a smart contract looks like, you can find a list of the biggest ones (in terms of users) on <a href="https://github.com/shafu0x/awesome-smart-contracts" target="_blank" rel="noopener noreferrer">shafu0x/awesome-smart-contracts</a>. A popular library to write smart contracts is <a href="https://www.openzeppelin.com/solidity-contracts" target="_blank" rel="noopener noreferrer">OpenZeppelin</a>. You can also search for the <a href="https://github.com/search?q=lang%3ASolidity%20&amp;type=repositories" target="_blank" rel="noopener noreferrer">Solidity language</a> on GitHub to find repositories with Solidity code.</p>
<p>Smart contracts are most of the time open-source, as it is important for the users to know what are the rules which handle their money. If a contract is not open-source, <em>it is probably a scam</em>.</p>
<p>Securing smart contracts is very important as a single bug can mean that an attacker can steal all the funds of the users who deposited money on the contract, or just block it to compromise the service. Millions of dollars are stolen every month due to bugs in the contracts, and some projects almost lose everything in such attacks. An historically important attack is the <a href="https://www.gemini.com/fr-fr/cryptopedia/the-dao-hack-makerdao" target="_blank" rel="noopener noreferrer">DAO hack</a> where $60 million was stolen, leading to a hard fork of the <a href="https://ethereum.org/" target="_blank" rel="noopener noreferrer">Ethereum</a> blockchain.</p>
<p>Now, how do people secure their code? First of all, most projects are well aware that software security is important, and if they want to raise money or advertise their product, they need to show that they are secure. They typically do the following:</p>
<ul>
<li><strong>Audits</strong> Projects require a few audits, which are made by specialized companies or individuals, to review the code of a smart contract and find bugs or vulnerabilities. The issues are classified into categories of importance: informational, low, medium, high, or critical. The highest categories mean it is possible to steal all of the funds. Lower categories are more remarks about the coding style/missing documentation. At the end of an audit, a <strong>report</strong> is published together with the corrections for the vulnerabilities that were discovered. As an example, <a href="https://github.com/trailofbits/publications/tree/master/reviews" target="_blank" rel="noopener noreferrer">here</a> is a list of audit reports from the company <a href="https://www.trailofbits.com/" target="_blank" rel="noopener noreferrer">Trail of Bits</a>.</li>
<li><strong>Competitions</strong> They enable anyone, during a pre-defined period of time of like a month, to look for bugs in a smart contract. At the end of the competition, a price pot is shared among the persons who found the most bugs. A typical price pot is $100,000, and some large competitions can go above $1,000,000¬†üí∞. You can see the list of all ongoing competitions on <a href="https://www.dailywarden.com/" target="_blank" rel="noopener noreferrer">www.dailywarden.com</a>.</li>
<li><strong>Bounties</strong> Finally, bounties are like competitions but always live. The aim is to reward critical vulnerabilities, such that there is an incentive to report a bug instead of exploiting it. A popular platform is <a href="https://immunefi.com/" target="_blank" rel="noopener noreferrer">Immunefi</a>.</li>
</ul>
<p>To give an idea of the amounts that are at risk of attacks on the blockchain, the total valuation of Ethereum, the main smart contracts platform, is estimated at more than 300 Billion dollars! Attacks are believed to be mainly done by üá∞üáµ¬†North Korean agents, but sometimes they happen to be single, clever individuals.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-formal-verification-tools">üõ†Ô∏è Formal verification tools<a href="#Ô∏è-formal-verification-tools" class="hash-link" aria-label="Direct link to üõ†Ô∏è Formal verification tools" title="Direct link to üõ†Ô∏è Formal verification tools">‚Äã</a></h2>
<p>So, where does formal verification stand in all that?</p>
<p>As it is the idea to mathematically reason about code to show the total absence of bugs in a protocol, formal verification seems to be the ideal tool to ensure the absence of vulnerabilities in a smart contract. In fact, most popular platforms do not take the risk of deploying new versions without a formal verification step, mainly with the leading tool <a href="https://www.certora.com/" target="_blank" rel="noopener noreferrer">Certora</a>.</p>
<p>As the verification is, at the end of the day, a mathematical proof, we can be sure that the code is correct for any possible user inputs, for a given and explicit <em>specification</em>. In addition, when the code changes, there is no need to review everything again: you can just formally verify the code that changed, as you would do when writing tests. This saves you time and money.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-limitations">üöß Limitations<a href="#-limitations" class="hash-link" aria-label="Direct link to üöß Limitations" title="Direct link to üöß Limitations">‚Äã</a></h2>
<p>So, what are the limitations? Here are a few:</p>
<ul>
<li><strong>Cost</strong> You need to pay more than with traditional audits. Although the rewards are probably there, given the quantity of funds at risk in a smart contract, many small companies take the risk.</li>
<li><strong>Time</strong> Sometimes, time is an issue, even if the verification can be done in a continuous manner.</li>
<li><strong>Specification</strong> You still to have write the correct specification of your code! This is what defines what is a bug and what is a feature.</li>
<li><strong>Complexity</strong> Formal verification requires some specific knowledge which most developers do not have (This is why we are here to help you!¬†üòÑ).</li>
</ul>
<p>Another one is completeness. Some formal verification tools aim to <em>fully automate</em> the proof part, so that you only need to write the specifications. But then:</p>
<ul>
<li>Some properties are unprovable, or need to be cut into smaller ones in non-trivial ways.</li>
<li>Some parts of the code are not verified. Typically, loops are only unrolled a few times (two or three times), instead of covering all the possible iterations.</li>
<li>Some properties cannot even be expressed!</li>
</ul>
<p>This is a <em>real</em> concern, according to the security teams of a few blockchain companies we talked to. Popular tools such as Certora or <a href="https://github.com/a16z/halmos" target="_blank" rel="noopener noreferrer">Halmos</a> fall into this category.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-how-to-do-better">üåü How to do better?<a href="#-how-to-do-better" class="hash-link" aria-label="Direct link to üåü How to do better?" title="Direct link to üåü How to do better?">‚Äã</a></h2>
<p>Using interactive theorem provers, such as <a href="https://coq.inria.fr/" target="_blank" rel="noopener noreferrer">üêì¬†Coq</a> or Lean, you overcome the limitations of automated provers as presented above. Here are a few tools you can use:</p>
<ul>
<li><a href="https://github.com/formal-land/rocq-of-solidity" target="_blank" rel="noopener noreferrer">coq-of-solidity</a> using the Coq theorem prover. This is the tool we made!¬†üéâ</li>
<li><a href="https://github.com/NethermindEth/Clear" target="_blank" rel="noopener noreferrer">Clear</a> using the Lean theorem prover. This is a tool made by the company <a href="https://nethermind.io/" target="_blank" rel="noopener noreferrer">Nethermind</a>.</li>
</ul>
<p><a href="https://kontrol.runtimeverification.com/" target="_blank" rel="noopener noreferrer">Kontrol</a> from Runtime Verification is another verification tool providing ways to go further than automated tools.</p>
<p>For the question of correct and complete specifications, here is our idea:</p>
<blockquote>
<p>Build a set of high-level primitives encoding ideas such as &quot;identity&quot;, &quot;value&quot;, &quot;ownership&quot;, &quot;exact calculation&quot;, ... which are not necessarily definable in a programming language but can be axiomatized in a proof system. Use them to give the business rules of a contract in a clear manner and to express meta-properties such as &quot;it is impossible to steal&quot;¬†üöì.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-technical-pipeline">üîß Technical pipeline<a href="#-technical-pipeline" class="hash-link" aria-label="Direct link to üîß Technical pipeline" title="Direct link to üîß Technical pipeline">‚Äã</a></h2>
<p>Solidity is a complex language. All the tools we mentioned above translate the code into a formal language to reason about it. They never take the Solidity code as it is. Instead, they first translate it to a simpler language, generally EVM bytecode (the assembly language for Solidity) or <a href="https://docs.soliditylang.org/en/latest/yul.html" target="_blank" rel="noopener noreferrer">Yul</a> which is slightly higher level.</p>
<p>Then, they run several steps to first &quot;üßº¬†clean up the code&quot; and obtain a representation that is high-level again. See, for example, the <a href="https://dl.acm.org/doi/10.1145/3689796" target="_blank" rel="noopener noreferrer">Practical Verification of Smart Contracts using Memory Splitting</a> article from Certora about optimizing the memory representation of EVM code to retrieve some properties from the Solidity representation.</p>
<p>In <code>coq-of-solidity</code>, we call this step of going from low-level to high-level writing a &quot;simulation&quot;, which is a high-level representation of the low-level code. This task is time-consuming. An alternative would be to use LLMs to generate it. We can check that the simulation is equivalent to the low-level version, either by writing a formal proof or by testing.</p>
<p>As an example, here is what we get for the verification of an ERC-20 smart contract with <code>coq-of-solidity</code> (you can click on the links to see the code):</p>
<ul>
<li><a href="https://github.com/formal-land/rocq-of-solidity/blob/develop/coq/CoqOfSolidity/contracts/erc20/contract.sol" target="_blank" rel="noopener noreferrer">the ERC-20 Solidity contract</a></li>
<li><a href="https://github.com/formal-land/rocq-of-solidity/blob/develop/coq/CoqOfSolidity/contracts/erc20/contract.yul" target="_blank" rel="noopener noreferrer">the low-level version (in Yul, generated)</a></li>
<li><a href="https://github.com/formal-land/rocq-of-solidity/blob/develop/coq/CoqOfSolidity/contracts/erc20/shallow.v" target="_blank" rel="noopener noreferrer">the Coq translation of the low-level version (generated)</a></li>
<li><a href="https://github.com/formal-land/rocq-of-solidity/blob/develop/coq/CoqOfSolidity/contracts/erc20/simulations/contract.v" target="_blank" rel="noopener noreferrer">the simulation in Coq (hand-written)</a></li>
<li><a href="https://github.com/formal-land/rocq-of-solidity/blob/develop/coq/CoqOfSolidity/contracts/erc20/proofs/contract.v" target="_blank" rel="noopener noreferrer">the formal proof that the two are equivalent (hand-written)</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-use-cases-for-llms">üß† Use cases for LLMs<a href="#-use-cases-for-llms" class="hash-link" aria-label="Direct link to üß† Use cases for LLMs" title="Direct link to üß† Use cases for LLMs">‚Äã</a></h2>
<p>Here are a few areas where LLMs can be useful:</p>
<ol>
<li>Writing formal <strong>specifications</strong> from the code of a smart contract, its documentation, and a dataset of known vulnerabilities. We can find such datasets on the Internet or by reading audits and competition reports.</li>
<li>Writing <strong>formal proofs</strong> for the specifications.</li>
<li>Writing a <strong>high-level representation</strong> of a smart contract in a formal system.</li>
<li>Writing a formal proof that a <strong>high-level representation is valid</strong>.</li>
</ol>
<p>The fact that most of the smart contracts are open-source should also help running learning algorithms. We hope to explore this area more in the future or give ideas to others.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-conclusion">‚úíÔ∏è Conclusion<a href="#Ô∏è-conclusion" class="hash-link" aria-label="Direct link to ‚úíÔ∏è Conclusion" title="Direct link to ‚úíÔ∏è Conclusion">‚Äã</a></h2>
<p>We have made a general presentation of security challenges around the deployment of smart contracts and how formal verification works and helps to secure smart contracts even more. We also presented a few ways to potentially improve current tooling.</p>
<p>We hope that this article will help you understand the importance of formal verification and how it can be used to secure your smart contracts. Please contact us at¬†<a href="mailto:contact@formal.land" target="_blank" rel="noopener noreferrer">¬†üíåcontact@formal.land</a> if you need formal verification services or advice!</p>
<div class="theme-admonition theme-admonition-success admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>For more</div><div class="admonitionContent_BuS1"><p><em>Follow us on <a href="https://x.com/FormalLand" target="_blank" rel="noopener noreferrer">X</a> or <a href="https://fr.linkedin.com/company/formal-land" target="_blank" rel="noopener noreferrer">LinkedIn</a> for more, or comment on this post below! Feel free to DM us for any questions or requests!</em></p></div></div></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/solidity">Solidity</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/smart-contract">smart contract</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/audit">audit</a></li></ul></div></footer></article><div style="margin-top:40px"></div><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2024/12/20/translation-of-circom-to-coq"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">üëª Translation of Circom to Coq</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2024/11/15/tool-for-noir-2"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">‚óºÔ∏è A formal verification tool for Noir ‚Äì 2</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#Ô∏è-securing-smart-contracts-the-common-way" class="table-of-contents__link toc-highlight">üõ°Ô∏è Securing smart contracts, the common way</a></li><li><a href="#Ô∏è-formal-verification-tools" class="table-of-contents__link toc-highlight">üõ†Ô∏è Formal verification tools</a></li><li><a href="#-limitations" class="table-of-contents__link toc-highlight">üöß Limitations</a></li><li><a href="#-how-to-do-better" class="table-of-contents__link toc-highlight">üåü How to do better?</a></li><li><a href="#-technical-pipeline" class="table-of-contents__link toc-highlight">üîß Technical pipeline</a></li><li><a href="#-use-cases-for-llms" class="table-of-contents__link toc-highlight">üß† Use cases for LLMs</a></li><li><a href="#Ô∏è-conclusion" class="table-of-contents__link toc-highlight">‚úíÔ∏è Conclusion</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Content</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/audit">Audit Reports</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tools">Tools</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/company/about">Company</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/learn/start">Learn</a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://x.com/FormalLand" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://fr.linkedin.com/company/formal-land" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/formal_land" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.instagram.com/formal.land" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://bsky.app/profile/formalland.bsky.social" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bluesky<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://formal.land/blog/rss.xml" target="_blank" rel="noopener noreferrer" class="footer__link-item">RSS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="mailto:contact@formal.land" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/formal-land" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitlab.com/formal-land" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitLab<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://formal-land.gitlab.io/coq-tezos-of-ocaml/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Coq Tezos of OCaml<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2026 Formal Land (Arae SARL), Paris, France<br><em>The highest standard of code security for Web3.</em><!-- Start of LiveChat (www.livechat.com) code -->
<script>window.__lc=window.__lc||{},window.__lc.license=14938650,function(n,t,c){function i(n){return e._h?e._h.apply(null,n):e._q.push(n)}var e={_q:[],_h:null,_v:"2.0",on:function(){i(["on",c.call(arguments)])},once:function(){i(["once",c.call(arguments)])},off:function(){i(["off",c.call(arguments)])},get:function(){if(!e._h)throw new Error("[LiveChatWidget] You can't use getters before load.");return i(["get",c.call(arguments)])},call:function(){i(["call",c.call(arguments)])},init:function(){var n=t.createElement("script");n.async=!0,n.type="text/javascript",n.src="https://cdn.livechatinc.com/tracking.js",t.head.appendChild(n)}};!n.__lc.asyncInit&&e.init(),n.LiveChatWidget=n.LiveChatWidget||e}(window,document,[].slice)</script>
<noscript><a href="https://www.livechat.com/chat-with/14938650/" rel="nofollow">Chat with us</a>, powered by <a href="https://www.livechat.com/?welcome" rel="noopener nofollow" target="_blank">LiveChat</a></noscript>
<!-- End of LiveChat code --></div></div></div></footer></div>
</body>
</html>